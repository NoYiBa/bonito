<div ng-controller='ServicesListCtrl as app'>
  <navbar>
    <!-- this goes into the sub-navbar -->
    <form class="panels-quick-filter has-feedback">
      <div class="form-group">
        <input type="search" class="form-control input-sm"
          placeholder="Filter services.." ng-model="app.filter" />
          <i class="fa fa-search form-control-feedback"></i>
      </div>
    </form>
  </navbar>

  <div class="services-list container-fluid"
       infinite-scroll='app.loadMore()' infinite-scroll-distance="1">

    <div ng-repeat="panel in app.panels" class="bpanel"
        style="width:{{app.panelWidth}}px; height:{{app.panelHeight}}px;">

      <div class="bpanel-header">
        <span class="name">
          {{ panel.name }}
        </span>
        <span class="volume">
          <span class="volume-label">Volume:</span> {{ panel.size|humanNumber:0 }}/s
        </span>
      </div>

      <svggraph data="panel.values" width="{{app.panelWidth}}" height="{{app.panelHeight-35}}"></svggraph>

    </div>

    <!-- required by the infinite-scroll to correctly get it's height. See FAQ -->
    <div style='clear: both;'></div>
  </div>

</div>
